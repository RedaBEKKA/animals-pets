{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport * as Yup from \"yup\";\nimport { fr } from \"yup-locales\";\nimport { setLocale } from \"yup\";\nimport { useState } from \"react\";\nimport misterCoockyApi from \"../../../constante/apiUrl\";\nsetLocale(fr);\nexport function UseRegister() {\n  _s();\n\n  const [pageId, setPageId] = useState(1); //numéro de page du formulaire d'inscription (0,1,2)\n\n  const [alertMail, setAlertMail] = useState(\"\"); //message d'alerte au niveau de l'adresse mail\n\n  const TypeLenseigne = [{\n    key: \"Option 1\",\n    value: \"value1\"\n  }, {\n    key: \"Option 2\",\n    value: \"value2\"\n  }, {\n    key: \"Option 3\",\n    value: \"value3\"\n  }, {\n    key: \"Option 4\",\n    value: \"value4\"\n  }, {\n    key: \"Option 5\",\n    value: \"value5\"\n  }];\n  const Addresses = [{\n    key: 'Select an option',\n    value: ''\n  }, {\n    key: 'Option 1',\n    value: 'option1'\n  }, {\n    key: 'Option 2',\n    value: 'option2'\n  }, {\n    key: 'Option 3',\n    value: 'option3'\n  }];\n  const registerValues = {\n    nom: \"\",\n    prenom: \"\",\n    email: \"\",\n    phone: \"\",\n    nom: \"\",\n    password: \"\",\n    cfpassword: \"\",\n    TypeLenseigne: [],\n    nomentreprise: \"\",\n    Addresses: ''\n  };\n  const lowercaseRegEx = /(?=.*[a-z])/;\n  const uppercaseRegEx = /(?=.*[A-Z])/;\n  const numericRegEx = /(?=.*[0-9])/;\n  const specialsRegEx = /[^A-Za-z 0-9]/g;\n  const emailRegex = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/;\n  const phoneRegex = /(\\+\\d{1,3}\\s?)?((\\(\\d{3}\\)\\s?)|(\\d{3})(\\s|-?))(\\d{3}(\\s|-?))(\\d{4})(\\s?(([E|e]xt[:|.|]?)|x|X)(\\s?\\d+))?/g;\n  let RegsiterSchema = Yup.object().shape({\n    nom: Yup.string().max(15, \"nom est trop long - doit être de 15 caractères maximum.\").required(\"nom est requis\").min(4, \"nom est trop court - doit comporter au moins 4 caractères.\"),\n    prenom: Yup.string().max(15, \"prenom est trop long - doit être de 15 caractères maximum.\").required(\"prenom est requis\").min(4, \"prenom est trop court - doit comporter au moins 4 caractères.\"),\n    email: Yup.string().matches(emailRegex, \"Doit être un email valide !\").max(25, \"email est trop long - doit être de 15 caractères maximum.\").required(\"email est requis\").min(4, \"email est trop court - doit comporter au moins 4 caractères.\"),\n    phone: Yup.string().min(10, \"Numéro téléphone is too short - should be 10 number Minimum.\").matches(phoneRegex, \"Doit être un numéro valide !\").required(\"Numéro téléphone est requis\"),\n    nomentreprise: Yup.string().max(15, \"nom entreprise est trop long - doit être de 15 caractères maximum.\").required(\"nom entreprise est requis\").min(4, \"nom entreprise est trop court - doit comporter au moins 4 caractères.\"),\n    password: Yup.string().max(15, \"Le mot de passe est trop long - doit être de 15 caractères maximum.\").min(4, \"Le mot de passe est trop court - doit comporter au moins 4 caractères.\").matches(lowercaseRegEx, \"Doit contenir des lettres minuscules !\").matches(uppercaseRegEx, \"Doit contenir des lettres majuscule !\").matches(numericRegEx, \"Doit contenir des chiffres !\").matches(specialsRegEx, \"Doit contenir un caractère spécial !\").required(\"Mot de passe requis\"),\n    cfpassword: Yup.string().required(\"Confirme mot de passe est requis\").oneOf([Yup.ref(\"password\")], \"Les mots de passe ne correspondent pas\"),\n    TypeLenseigne: Yup.array().required(\"Type L'enseigne requis\"),\n    dropdownOptions: Yup.array().required(\"dropdownOptions L'enseigne requis\")\n  });\n\n  const fetchEmail = email => {\n    fetch(`${misterCoockyApi.misterCoockyApi}/graphql`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        query: `\n            query{​​​​​​​\n                getMail(mail:\"${email}\"){​​​​​​​\n                    id\n                }​​​​​​​\n            }`\n      })\n    }).then(res => res.json()).then(function (result) {\n      if (result.data.getMail !== null) {\n        setAlertMail(\"email déjà utilisé!\");\n      } else {\n        setPageId(pageId + 1);\n      }\n    });\n  };\n\n  const onSubmit = () => {\n    setPageId(pageId + 1);\n  };\n\n  const onReturn = () => {\n    setPageId(pageId - 1);\n  };\n\n  return {\n    registerValues,\n    RegsiterSchema,\n    fetchEmail,\n    alertMail,\n    pageId,\n    onReturn,\n    onSubmit,\n    TypeLenseigne\n  };\n}\n\n_s(UseRegister, \"njO0m4P6FdptIFhmhpUFUvMmSqE=\");\n\n_c = UseRegister;\n\nvar _c;\n\n$RefreshReg$(_c, \"UseRegister\");","map":{"version":3,"sources":["C:/Users/PC/Desktop/BigNova-Projects/BigNova-Pets Animals/ClonedFromGitHub/animals-pets/src/pages/Register/hooks/useForm.js"],"names":["Yup","fr","setLocale","useState","misterCoockyApi","UseRegister","pageId","setPageId","alertMail","setAlertMail","TypeLenseigne","key","value","Addresses","registerValues","nom","prenom","email","phone","password","cfpassword","nomentreprise","lowercaseRegEx","uppercaseRegEx","numericRegEx","specialsRegEx","emailRegex","phoneRegex","RegsiterSchema","object","shape","string","max","required","min","matches","oneOf","ref","array","dropdownOptions","fetchEmail","fetch","method","headers","body","JSON","stringify","query","then","res","json","result","data","getMail","onSubmit","onReturn"],"mappings":";;AAAA,OAAO,KAAKA,GAAZ,MAAqB,KAArB;AACA,SAASC,EAAT,QAAmB,aAAnB;AACA,SAASC,SAAT,QAA0B,KAA1B;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAOC,eAAP,MAA4B,2BAA5B;AAEAF,SAAS,CAACD,EAAD,CAAT;AAEA,OAAO,SAASI,WAAT,GAAuB;AAAA;;AAC5B,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBJ,QAAQ,CAAC,CAAD,CAApC,CAD4B,CACa;;AACzC,QAAM,CAACK,SAAD,EAAYC,YAAZ,IAA4BN,QAAQ,CAAC,EAAD,CAA1C,CAF4B,CAEoB;;AAEhD,QAAMO,aAAa,GAAG,CACpB;AAAEC,IAAAA,GAAG,EAAE,UAAP;AAAmBC,IAAAA,KAAK,EAAE;AAA1B,GADoB,EAEpB;AAAED,IAAAA,GAAG,EAAE,UAAP;AAAmBC,IAAAA,KAAK,EAAE;AAA1B,GAFoB,EAGpB;AAAED,IAAAA,GAAG,EAAE,UAAP;AAAmBC,IAAAA,KAAK,EAAE;AAA1B,GAHoB,EAIpB;AAAED,IAAAA,GAAG,EAAE,UAAP;AAAmBC,IAAAA,KAAK,EAAE;AAA1B,GAJoB,EAKpB;AAAED,IAAAA,GAAG,EAAE,UAAP;AAAmBC,IAAAA,KAAK,EAAE;AAA1B,GALoB,CAAtB;AAOA,QAAMC,SAAS,GAAG,CAChB;AAAEF,IAAAA,GAAG,EAAE,kBAAP;AAA2BC,IAAAA,KAAK,EAAE;AAAlC,GADgB,EAEhB;AAAED,IAAAA,GAAG,EAAE,UAAP;AAAmBC,IAAAA,KAAK,EAAE;AAA1B,GAFgB,EAGhB;AAAED,IAAAA,GAAG,EAAE,UAAP;AAAmBC,IAAAA,KAAK,EAAE;AAA1B,GAHgB,EAIhB;AAAED,IAAAA,GAAG,EAAE,UAAP;AAAmBC,IAAAA,KAAK,EAAE;AAA1B,GAJgB,CAAlB;AAMA,QAAME,cAAc,GAAG;AACrBC,IAAAA,GAAG,EAAE,EADgB;AAErBC,IAAAA,MAAM,EAAE,EAFa;AAGrBC,IAAAA,KAAK,EAAE,EAHc;AAIrBC,IAAAA,KAAK,EAAE,EAJc;AAKrBH,IAAAA,GAAG,EAAE,EALgB;AAMrBI,IAAAA,QAAQ,EAAE,EANW;AAOrBC,IAAAA,UAAU,EAAE,EAPS;AAQrBV,IAAAA,aAAa,EAAE,EARM;AASrBW,IAAAA,aAAa,EAAE,EATM;AAUrBR,IAAAA,SAAS,EAAC;AAVW,GAAvB;AAaA,QAAMS,cAAc,GAAG,aAAvB;AACA,QAAMC,cAAc,GAAG,aAAvB;AACA,QAAMC,YAAY,GAAG,aAArB;AACA,QAAMC,aAAa,GAAG,gBAAtB;AACA,QAAMC,UAAU,GACd,gcADF;AAGA,QAAMC,UAAU,GACd,0GADF;AAGA,MAAIC,cAAc,GAAG5B,GAAG,CAAC6B,MAAJ,GAAaC,KAAb,CAAmB;AACtCf,IAAAA,GAAG,EAAEf,GAAG,CAAC+B,MAAJ,GACFC,GADE,CACE,EADF,EACM,yDADN,EAEFC,QAFE,CAEO,gBAFP,EAGFC,GAHE,CAGE,CAHF,EAGK,4DAHL,CADiC;AAKtClB,IAAAA,MAAM,EAAEhB,GAAG,CAAC+B,MAAJ,GACLC,GADK,CACD,EADC,EACG,4DADH,EAELC,QAFK,CAEI,mBAFJ,EAGLC,GAHK,CAGD,CAHC,EAGE,+DAHF,CAL8B;AAStCjB,IAAAA,KAAK,EAAEjB,GAAG,CAAC+B,MAAJ,GACJI,OADI,CACIT,UADJ,EACgB,6BADhB,EAEJM,GAFI,CAEA,EAFA,EAEI,2DAFJ,EAGJC,QAHI,CAGK,kBAHL,EAIJC,GAJI,CAIA,CAJA,EAIG,8DAJH,CAT+B;AActChB,IAAAA,KAAK,EAAElB,GAAG,CAAC+B,MAAJ,GACJG,GADI,CACA,EADA,EACI,8DADJ,EAEJC,OAFI,CAEIR,UAFJ,EAEgB,8BAFhB,EAGJM,QAHI,CAGK,6BAHL,CAd+B;AAkBtCZ,IAAAA,aAAa,EAAErB,GAAG,CAAC+B,MAAJ,GACZC,GADY,CACR,EADQ,EACJ,oEADI,EAEZC,QAFY,CAEH,2BAFG,EAGZC,GAHY,CAGR,CAHQ,EAGL,uEAHK,CAlBuB;AAsBtCf,IAAAA,QAAQ,EAAEnB,GAAG,CAAC+B,MAAJ,GACPC,GADO,CAEN,EAFM,EAGN,qEAHM,EAKPE,GALO,CAMN,CANM,EAON,wEAPM,EASPC,OATO,CASCb,cATD,EASiB,wCATjB,EAUPa,OAVO,CAUCZ,cAVD,EAUiB,uCAVjB,EAWPY,OAXO,CAWCX,YAXD,EAWe,8BAXf,EAYPW,OAZO,CAYCV,aAZD,EAYgB,sCAZhB,EAcPQ,QAdO,CAcE,qBAdF,CAtB4B;AAsCtCb,IAAAA,UAAU,EAAEpB,GAAG,CAAC+B,MAAJ,GACTE,QADS,CACA,kCADA,EAETG,KAFS,CAEH,CAACpC,GAAG,CAACqC,GAAJ,CAAQ,UAAR,CAAD,CAFG,EAEoB,wCAFpB,CAtC0B;AAyCtC3B,IAAAA,aAAa,EAAEV,GAAG,CAACsC,KAAJ,GAAYL,QAAZ,CAAqB,wBAArB,CAzCuB;AA0CtCM,IAAAA,eAAe,EAAEvC,GAAG,CAACsC,KAAJ,GAAYL,QAAZ,CAAqB,mCAArB;AA1CqB,GAAnB,CAArB;;AA6CA,QAAMO,UAAU,GAAIvB,KAAD,IAAW;AAC5BwB,IAAAA,KAAK,CAAE,GAAErC,eAAe,CAACA,eAAgB,UAApC,EAA+C;AAClDsC,MAAAA,MAAM,EAAE,MAD0C;AAElDC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFyC;AAKlDC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,QAAAA,KAAK,EAAG;AAChB;AACA,gCAAgC9B,KAAM;AACtC;AACA;AACA;AAN2B,OAAf;AAL4C,KAA/C,CAAL,CAcG+B,IAdH,CAcSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAdjB,EAeGF,IAfH,CAeQ,UAAUG,MAAV,EAAkB;AACtB,UAAIA,MAAM,CAACC,IAAP,CAAYC,OAAZ,KAAwB,IAA5B,EAAkC;AAChC5C,QAAAA,YAAY,CAAC,qBAAD,CAAZ;AACD,OAFD,MAEO;AACLF,QAAAA,SAAS,CAACD,MAAM,GAAG,CAAV,CAAT;AACD;AACF,KArBH;AAsBD,GAvBD;;AAwBA,QAAMgD,QAAQ,GAAG,MAAM;AACrB/C,IAAAA,SAAS,CAACD,MAAM,GAAG,CAAV,CAAT;AACD,GAFD;;AAGA,QAAMiD,QAAQ,GAAG,MAAM;AACrBhD,IAAAA,SAAS,CAACD,MAAM,GAAG,CAAV,CAAT;AACD,GAFD;;AAGA,SAAO;AACLQ,IAAAA,cADK;AAELc,IAAAA,cAFK;AAGLY,IAAAA,UAHK;AAILhC,IAAAA,SAJK;AAKLF,IAAAA,MALK;AAMLiD,IAAAA,QANK;AAOLD,IAAAA,QAPK;AAQL5C,IAAAA;AARK,GAAP;AAUD;;GA7HeL,W;;KAAAA,W","sourcesContent":["import * as Yup from \"yup\";\r\nimport { fr } from \"yup-locales\";\r\nimport { setLocale } from \"yup\";\r\nimport { useState } from \"react\";\r\nimport misterCoockyApi from \"../../../constante/apiUrl\";\r\n\r\nsetLocale(fr);\r\n\r\nexport function UseRegister() {\r\n  const [pageId, setPageId] = useState(1); //numéro de page du formulaire d'inscription (0,1,2)\r\n  const [alertMail, setAlertMail] = useState(\"\"); //message d'alerte au niveau de l'adresse mail\r\n\r\n  const TypeLenseigne = [\r\n    { key: \"Option 1\", value: \"value1\" },\r\n    { key: \"Option 2\", value: \"value2\" },\r\n    { key: \"Option 3\", value: \"value3\" },\r\n    { key: \"Option 4\", value: \"value4\" },\r\n    { key: \"Option 5\", value: \"value5\" },\r\n  ];\r\n  const Addresses = [\r\n    { key: 'Select an option', value: '' },\r\n    { key: 'Option 1', value: 'option1' },\r\n    { key: 'Option 2', value: 'option2' },\r\n    { key: 'Option 3', value: 'option3' }\r\n  ]\r\n  const registerValues = {\r\n    nom: \"\",\r\n    prenom: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    nom: \"\",\r\n    password: \"\",\r\n    cfpassword: \"\",\r\n    TypeLenseigne: [],\r\n    nomentreprise: \"\",\r\n    Addresses:''\r\n  };\r\n\r\n  const lowercaseRegEx = /(?=.*[a-z])/;\r\n  const uppercaseRegEx = /(?=.*[A-Z])/;\r\n  const numericRegEx = /(?=.*[0-9])/;\r\n  const specialsRegEx = /[^A-Za-z 0-9]/g;\r\n  const emailRegex =\r\n    /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/;\r\n\r\n  const phoneRegex =\r\n    /(\\+\\d{1,3}\\s?)?((\\(\\d{3}\\)\\s?)|(\\d{3})(\\s|-?))(\\d{3}(\\s|-?))(\\d{4})(\\s?(([E|e]xt[:|.|]?)|x|X)(\\s?\\d+))?/g;\r\n\r\n  let RegsiterSchema = Yup.object().shape({\r\n    nom: Yup.string()\r\n      .max(15, \"nom est trop long - doit être de 15 caractères maximum.\")\r\n      .required(\"nom est requis\")\r\n      .min(4, \"nom est trop court - doit comporter au moins 4 caractères.\"),\r\n    prenom: Yup.string()\r\n      .max(15, \"prenom est trop long - doit être de 15 caractères maximum.\")\r\n      .required(\"prenom est requis\")\r\n      .min(4, \"prenom est trop court - doit comporter au moins 4 caractères.\"),\r\n    email: Yup.string()\r\n      .matches(emailRegex, \"Doit être un email valide !\")\r\n      .max(25, \"email est trop long - doit être de 15 caractères maximum.\")\r\n      .required(\"email est requis\")\r\n      .min(4, \"email est trop court - doit comporter au moins 4 caractères.\"),\r\n    phone: Yup.string()\r\n      .min(10, \"Numéro téléphone is too short - should be 10 number Minimum.\")\r\n      .matches(phoneRegex, \"Doit être un numéro valide !\")\r\n      .required(\"Numéro téléphone est requis\"),\r\n    nomentreprise: Yup.string()\r\n      .max(15, \"nom entreprise est trop long - doit être de 15 caractères maximum.\")\r\n      .required(\"nom entreprise est requis\")\r\n      .min(4, \"nom entreprise est trop court - doit comporter au moins 4 caractères.\"),\r\n    password: Yup.string()\r\n      .max(\r\n        15,\r\n        \"Le mot de passe est trop long - doit être de 15 caractères maximum.\"\r\n      )\r\n      .min(\r\n        4,\r\n        \"Le mot de passe est trop court - doit comporter au moins 4 caractères.\"\r\n      )\r\n      .matches(lowercaseRegEx, \"Doit contenir des lettres minuscules !\")\r\n      .matches(uppercaseRegEx, \"Doit contenir des lettres majuscule !\")\r\n      .matches(numericRegEx, \"Doit contenir des chiffres !\")\r\n      .matches(specialsRegEx, \"Doit contenir un caractère spécial !\")\r\n\r\n      .required(\"Mot de passe requis\"),\r\n\r\n    cfpassword: Yup.string()\r\n      .required(\"Confirme mot de passe est requis\")\r\n      .oneOf([Yup.ref(\"password\")], \"Les mots de passe ne correspondent pas\"),\r\n    TypeLenseigne: Yup.array().required(\"Type L'enseigne requis\"),\r\n    dropdownOptions: Yup.array().required(\"dropdownOptions L'enseigne requis\"),\r\n  });\r\n\r\n  const fetchEmail = (email) => {\r\n    fetch(`${misterCoockyApi.misterCoockyApi}/graphql`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        query: `\r\n            query{​​​​​​​\r\n                getMail(mail:\"${email}\"){​​​​​​​\r\n                    id\r\n                }​​​​​​​\r\n            }`,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then(function (result) {\r\n        if (result.data.getMail !== null) {\r\n          setAlertMail(\"email déjà utilisé!\");\r\n        } else {\r\n          setPageId(pageId + 1);\r\n        }\r\n      });\r\n  };\r\n  const onSubmit = () => {\r\n    setPageId(pageId + 1);\r\n  };\r\n  const onReturn = () => {\r\n    setPageId(pageId - 1);\r\n  };\r\n  return {\r\n    registerValues,\r\n    RegsiterSchema,\r\n    fetchEmail,\r\n    alertMail,\r\n    pageId,\r\n    onReturn,\r\n    onSubmit,\r\n    TypeLenseigne,\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}