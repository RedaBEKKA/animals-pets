{"ast":null,"code":"var _jsxFileName = \"D:\\\\All - Projects\\\\PROJECTS - Gitkraken\\\\Project-12 - BigNova PetsAnimals\\\\animals-pets\\\\src\\\\pages\\\\SignIn.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport connexion from '../images/Connexion.png';\nimport logo from \"../images/logo.svg\";\nimport { colors } from \"../themes/colors\";\nimport Box from \"@material-ui/core/Box\";\nimport { Alert } from \"@material-ui/lab\";\nimport Link from \"@material-ui/core/Link\";\nimport misterCoockyApi from '../constante/apiUrl';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    height: '100vh'\n  },\n  image: {\n    backgroundImage: `url(${connexion})`,\n    backgroundRepeat: 'no-repeat',\n    backgroundColor: theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center'\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  form: {\n    marginTop: \"50px\"\n  },\n  btn: {\n    padding: theme.spacing(1),\n    color: \"#000\",\n    backgroundColor: \"#DEC8A6\",\n    width: '25%'\n  },\n  formText: {\n    width: '35%'\n  },\n  centerElements: {\n    'display': 'flex',\n    'flex-direction': 'column',\n    'justify-content': 'flex-end',\n    'align-items': 'flex-end',\n    'position': 'relative',\n    'right': '8%'\n  }\n}));\n/**\r\n * Page de Connexion\r\n * @returns {*}\r\n * @constructor\r\n */\n\nfunction Connection() {\n  _s();\n\n  const [textNext, setTextNext] = useState(\"Se connecter\");\n  const [email, setEmail] = useState(\"\");\n  const [motDePasse, setMotDePasse] = useState(\"\");\n  const [signError, setSignError] = useState(\"\");\n  const classes = useStyles();\n  /**\r\n   * Envoi du formulaire de connexion\r\n   * @param e\r\n   */\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    fetch(`${misterCoockyApi.misterCoockyApi}/graphql`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        query: `\n                    query{​​​​​​​\n                        logAsUser(email:\"${email}\", password: \"${motDePasse}\"){​​​​​​​\n                            id\n                            organization{\n                                id\n                                supplier{\n                                    id  \n                                }\n                            }\n                            user{\n                                role{\n                                    name\n                                }\n                            }\n                        }​​​​​​​\n                    }`\n      })\n    }).then(res => res.json()).then(function (result) {\n      if (result.data.logAsUser == null) {\n        setSignError(\"Email ou mot de passe incorrects\");\n      } else {\n        var _result$data$logAsUse;\n\n        localStorage.setItem('userId', result.data.logAsUser.id);\n        localStorage.setItem('organizationId', result.data.logAsUser.organization.id);\n        localStorage.setItem('supplierId', result.data.logAsUser.organization.supplier.id);\n\n        if (((_result$data$logAsUse = result.data.logAsUser.user.role) === null || _result$data$logAsUse === void 0 ? void 0 : _result$data$logAsUse.name) === \"ROLE_USER\") {\n          window.location.href = '/home';\n        } else {\n          window.location.href = '/homeAdmin';\n        }\n      }\n    });\n  }\n  /**\r\n   * Récupération du contenu de page\r\n   * @returns {*}\r\n   */\n\n\n  function getFormContent() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        required: true,\n        variant: \"outlined\",\n        type: \"email\",\n        margin: \"normal\",\n        fullWidth: true,\n        id: \"email\",\n        label: \"Email\",\n        name: \"remail\",\n        onChange: e => setEmail(e.target.value),\n        value: email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        required: true,\n        type: \"password\",\n        variant: \"outlined\",\n        margin: \"normal\",\n        fullWidth: true,\n        id: \"phone\",\n        label: \"Mot de passe\",\n        name: \"phone\",\n        onChange: e => setMotDePasse(e.target.value),\n        value: motDePasse\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        m: 0.5,\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          href: \"/register\",\n          children: \"Mot de passe oubli\\xE9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }, this), signError ? /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        children: signError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 26\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(Box, {\n        mt: 10,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 10,\n          className: classes.centerElements,\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            variant: \"contained\",\n            style: {\n              backgroundColor: colors.brown\n            },\n            className: classes.btn,\n            children: textNext\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            style: {\n              marginTop: '2'\n            },\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              href: \"/register\",\n              children: \"Pas de compte? S'inscrire\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    component: \"main\",\n    className: classes.root,\n    children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: false,\n      sm: 6,\n      md: 6,\n      className: classes.image\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 12,\n      sm: 6,\n      md: 6,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.paper,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            alt: \"Logo Mister Coocky\",\n            width: 200,\n            height: 250,\n            src: logo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: classes.form,\n          onSubmit: handleSubmit,\n          children: getFormContent()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Connection, \"04lE+D8iQiAxDDz1Dw1flVb8Hcs=\", false, function () {\n  return [useStyles];\n});\n\n_c = Connection;\nexport default Connection;\n\nvar _c;\n\n$RefreshReg$(_c, \"Connection\");","map":{"version":3,"sources":["D:/All - Projects/PROJECTS - Gitkraken/Project-12 - BigNova PetsAnimals/animals-pets/src/pages/SignIn.js"],"names":["React","useState","Button","CssBaseline","TextField","Grid","makeStyles","connexion","colors","Box","Alert","Link","misterCoockyApi","useStyles","theme","root","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","form","marginTop","btn","padding","color","width","formText","centerElements","Connection","textNext","setTextNext","email","setEmail","motDePasse","setMotDePasse","signError","setSignError","classes","handleSubmit","e","preventDefault","fetch","method","headers","body","JSON","stringify","query","then","res","json","result","data","logAsUser","localStorage","setItem","id","organization","supplier","user","role","name","window","location","href","getFormContent","target","value","brown","logo"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,SAAP,MAAsB,yBAAtB;;AAEA,SAASC,MAAT,QAAuB,kBAAvB;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,SAASC,KAAT,QAAsB,kBAAtB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,eAAP,MAA4B,qBAA5B;;;AAEA,MAAMC,SAAS,GAAGP,UAAU,CAAEQ,KAAD,KAAY;AACrCC,EAAAA,IAAI,EAAE;AACFC,IAAAA,MAAM,EAAE;AADN,GAD+B;AAIrCC,EAAAA,KAAK,EAAE;AACHC,IAAAA,eAAe,EAAG,OAAMX,SAAU,GAD/B;AAEHY,IAAAA,gBAAgB,EAAE,WAFf;AAGHC,IAAAA,eAAe,EACXN,KAAK,CAACO,OAAN,CAAcC,IAAd,KAAuB,OAAvB,GAAiCR,KAAK,CAACO,OAAN,CAAcE,IAAd,CAAmB,EAAnB,CAAjC,GAA0DT,KAAK,CAACO,OAAN,CAAcE,IAAd,CAAmB,GAAnB,CAJ3D;AAKHC,IAAAA,cAAc,EAAE,OALb;AAMHC,IAAAA,kBAAkB,EAAE;AANjB,GAJ8B;AAYrCC,EAAAA,KAAK,EAAE;AACHC,IAAAA,MAAM,EAAEb,KAAK,CAACc,OAAN,CAAc,CAAd,EAAiB,CAAjB,CADL;AAEHC,IAAAA,OAAO,EAAE,MAFN;AAGHC,IAAAA,aAAa,EAAE,QAHZ;AAIHC,IAAAA,UAAU,EAAE;AAJT,GAZ8B;AAkBrCC,EAAAA,IAAI,EAAE;AACFC,IAAAA,SAAS,EAAE;AADT,GAlB+B;AAqBrCC,EAAAA,GAAG,EAAE;AACDC,IAAAA,OAAO,EAAErB,KAAK,CAACc,OAAN,CAAc,CAAd,CADR;AAEDQ,IAAAA,KAAK,EAAE,MAFN;AAGDhB,IAAAA,eAAe,EAAE,SAHhB;AAIDiB,IAAAA,KAAK,EAAE;AAJN,GArBgC;AA2BrCC,EAAAA,QAAQ,EAAE;AACND,IAAAA,KAAK,EAAE;AADD,GA3B2B;AA8BrCE,EAAAA,cAAc,EAAE;AACZ,eAAW,MADC;AAEZ,sBAAkB,QAFN;AAGZ,uBAAmB,UAHP;AAIZ,mBAAe,UAJH;AAKZ,gBAAY,UALA;AAMZ,aAAS;AANG;AA9BqB,CAAZ,CAAD,CAA5B;AAwCA;AACA;AACA;AACA;AACA;;AACA,SAASC,UAAT,GAAsB;AAAA;;AAClB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BzC,QAAQ,CAAC,cAAD,CAAxC;AACA,QAAM,CAAC0C,KAAD,EAAQC,QAAR,IAAoB3C,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAAC4C,UAAD,EAAaC,aAAb,IAA8B7C,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAAC8C,SAAD,EAAYC,YAAZ,IAA4B/C,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAMgD,OAAO,GAAGpC,SAAS,EAAzB;AAEA;AACJ;AACA;AACA;;AACI,WAASqC,YAAT,CAAsBC,CAAtB,EAAyB;AACrBA,IAAAA,CAAC,CAACC,cAAF;AACAC,IAAAA,KAAK,CAAE,GAAEzC,eAAe,CAACA,eAAgB,UAApC,EAA+C;AAChD0C,MAAAA,MAAM,EAAE,MADwC;AAEhDC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAFuC;AAKhDC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBC,QAAAA,KAAK,EAAG;AACxB;AACA,2CAA2ChB,KAAM,iBAAgBE,UAAW;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjBiC,OAAf;AAL0C,KAA/C,CAAL,CAyBKe,IAzBL,CAyBWC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAzBnB,EA0BKF,IA1BL,CA0BU,UAAUG,MAAV,EAAkB;AACpB,UAAIA,MAAM,CAACC,IAAP,CAAYC,SAAZ,IAAyB,IAA7B,EAAmC;AAC/BjB,QAAAA,YAAY,CAAC,kCAAD,CAAZ;AACH,OAFD,MAEO;AAAA;;AACHkB,QAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BJ,MAAM,CAACC,IAAP,CAAYC,SAAZ,CAAsBG,EAArD;AACAF,QAAAA,YAAY,CAACC,OAAb,CAAqB,gBAArB,EAAuCJ,MAAM,CAACC,IAAP,CAAYC,SAAZ,CAAsBI,YAAtB,CAAmCD,EAA1E;AACAF,QAAAA,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCJ,MAAM,CAACC,IAAP,CAAYC,SAAZ,CAAsBI,YAAtB,CAAmCC,QAAnC,CAA4CF,EAA/E;;AACA,YAAI,0BAAAL,MAAM,CAACC,IAAP,CAAYC,SAAZ,CAAsBM,IAAtB,CAA2BC,IAA3B,gFAAiCC,IAAjC,MAA0C,WAA9C,EAA2D;AACvDC,UAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,OAAvB;AACH,SAFD,MAEO;AACHF,UAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,YAAvB;AACH;AACJ;AACJ,KAvCL;AAwCH;AAED;AACJ;AACA;AACA;;;AACI,WAASC,cAAT,GAA0B;AACtB,wBAAO;AAAA,8BACH,QAAC,SAAD;AAAW,QAAA,QAAQ,MAAnB;AAAoB,QAAA,OAAO,EAAC,UAA5B;AAAuC,QAAA,IAAI,EAAC,OAA5C;AAAoD,QAAA,MAAM,EAAC,QAA3D;AAAoE,QAAA,SAAS,MAA7E;AAA8E,QAAA,EAAE,EAAC,OAAjF;AAAyF,QAAA,KAAK,EAAC,OAA/F;AACI,QAAA,IAAI,EAAC,QADT;AACkB,QAAA,QAAQ,EAAE1B,CAAC,IAAIP,QAAQ,CAACO,CAAC,CAAC2B,MAAF,CAASC,KAAV,CADzC;AAC2D,QAAA,KAAK,EAAEpC;AADlE;AAAA;AAAA;AAAA;AAAA,cADG,eAGH,QAAC,SAAD;AAAW,QAAA,QAAQ,MAAnB;AAAoB,QAAA,IAAI,EAAC,UAAzB;AAAoC,QAAA,OAAO,EAAC,UAA5C;AAAuD,QAAA,MAAM,EAAC,QAA9D;AAAuE,QAAA,SAAS,MAAhF;AAAiF,QAAA,EAAE,EAAC,OAApF;AACI,QAAA,KAAK,EAAC,cADV;AAEI,QAAA,IAAI,EAAC,OAFT;AAEiB,QAAA,QAAQ,EAAEQ,CAAC,IAAIL,aAAa,CAACK,CAAC,CAAC2B,MAAF,CAASC,KAAV,CAF7C;AAE+D,QAAA,KAAK,EAAElC;AAFtE;AAAA;AAAA;AAAA;AAAA,cAHG,eAMH,QAAC,GAAD;AAAK,QAAA,CAAC,EAAE,GAAR;AAAA,+BACI,QAAC,IAAD;AAAM,UAAA,IAAI,EAAE,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cANG,EAUFE,SAAS,gBAAG,QAAC,KAAD;AAAO,QAAA,QAAQ,EAAC,OAAhB;AAAA,kBAAyBA;AAAzB;AAAA;AAAA;AAAA;AAAA,cAAH,gBAAiD,qCAVxD,eAYH,QAAC,GAAD;AAAK,QAAA,EAAE,EAAE,EAAT;AAAA,+BACI,QAAC,IAAD;AAAM,UAAA,SAAS,MAAf;AAAgB,UAAA,OAAO,EAAE,EAAzB;AAA6B,UAAA,SAAS,EAAEE,OAAO,CAACV,cAAhD;AAAA,kCACI,QAAC,MAAD;AAAQ,YAAA,IAAI,EAAC,QAAb;AAAsB,YAAA,OAAO,EAAC,WAA9B;AAA0C,YAAA,KAAK,EAAE;AAAEnB,cAAAA,eAAe,EAAEZ,MAAM,CAACwE;AAA1B,aAAjD;AACI,YAAA,SAAS,EAAE/B,OAAO,CAACf,GADvB;AAAA,sBAEKO;AAFL;AAAA;AAAA;AAAA;AAAA,kBADJ,eAKI,QAAC,GAAD;AAAK,YAAA,KAAK,EAAE;AAACR,cAAAA,SAAS,EAAC;AAAX,aAAZ;AAAA,mCACI,QAAC,IAAD;AAAM,cAAA,IAAI,EAAE,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAZG;AAAA,oBAAP;AAwBH;;AAED,sBACI,QAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,SAAS,EAAC,MAA1B;AAAiC,IAAA,SAAS,EAAEgB,OAAO,CAAClC,IAApD;AAAA,4BACI,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI,QAAC,IAAD;AAAM,MAAA,IAAI,MAAV;AAAW,MAAA,EAAE,EAAE,KAAf;AAAsB,MAAA,EAAE,EAAE,CAA1B;AAA6B,MAAA,EAAE,EAAE,CAAjC;AAAoC,MAAA,SAAS,EAAEkC,OAAO,CAAChC;AAAvD;AAAA;AAAA;AAAA;AAAA,YAFJ,eAGI,QAAC,IAAD;AAAM,MAAA,IAAI,MAAV;AAAW,MAAA,EAAE,EAAE,EAAf;AAAmB,MAAA,EAAE,EAAE,CAAvB;AAA0B,MAAA,EAAE,EAAE,CAA9B;AAAA,6BACI;AAAK,QAAA,SAAS,EAAEgC,OAAO,CAACvB,KAAxB;AAAA,gCACI,QAAC,IAAD;AAAA,iCACI;AAAK,YAAA,GAAG,EAAC,oBAAT;AAA8B,YAAA,KAAK,EAAE,GAArC;AAA0C,YAAA,MAAM,EAAE,GAAlD;AAAuD,YAAA,GAAG,EAAEuD;AAA5D;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBADJ,eAII;AAAM,UAAA,SAAS,EAAEhC,OAAO,CAACjB,IAAzB;AAA+B,UAAA,QAAQ,EAAEkB,YAAzC;AAAA,oBACK2B,cAAc;AADnB;AAAA;AAAA;AAAA;AAAA,gBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAiBH;;GAvGQrC,U;UAKW3B,S;;;KALX2B,U;AAyGT,eAAeA,UAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport connexion from '../images/Connexion.png';\r\nimport logo from '../images/logo.svg'\r\nimport { colors } from \"../themes/colors\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport misterCoockyApi from '../constante/apiUrl'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        height: '100vh',\r\n    },\r\n    image: {\r\n        backgroundImage: `url(${connexion})`,\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundColor:\r\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n    },\r\n    paper: {\r\n        margin: theme.spacing(8, 4),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    form: {\r\n        marginTop: \"50px\"\r\n    },\r\n    btn: {\r\n        padding: theme.spacing(1),\r\n        color: \"#000\",\r\n        backgroundColor: \"#DEC8A6\",\r\n        width: '25%',\r\n    },\r\n    formText: {\r\n        width: '35%'\r\n    },\r\n    centerElements: {\r\n        'display': 'flex',\r\n        'flex-direction': 'column',\r\n        'justify-content': 'flex-end',\r\n        'align-items': 'flex-end',\r\n        'position': 'relative',\r\n        'right': '8%'\r\n    }\r\n}));\r\n\r\n/**\r\n * Page de Connexion\r\n * @returns {*}\r\n * @constructor\r\n */\r\nfunction Connection() {\r\n    const [textNext, setTextNext] = useState(\"Se connecter\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [motDePasse, setMotDePasse] = useState(\"\");\r\n    const [signError, setSignError] = useState(\"\");\r\n    const classes = useStyles();\r\n\r\n    /**\r\n     * Envoi du formulaire de connexion\r\n     * @param e\r\n     */\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        fetch(`${misterCoockyApi.misterCoockyApi}/graphql`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                query: `\r\n                    query{​​​​​​​\r\n                        logAsUser(email:\"${email}\", password: \"${motDePasse}\"){​​​​​​​\r\n                            id\r\n                            organization{\r\n                                id\r\n                                supplier{\r\n                                    id  \r\n                                }\r\n                            }\r\n                            user{\r\n                                role{\r\n                                    name\r\n                                }\r\n                            }\r\n                        }​​​​​​​\r\n                    }`,\r\n            }),\r\n        })\r\n            .then((res) => res.json())\r\n            .then(function (result) {\r\n                if (result.data.logAsUser == null) {\r\n                    setSignError(\"Email ou mot de passe incorrects\");\r\n                } else {\r\n                    localStorage.setItem('userId', result.data.logAsUser.id);\r\n                    localStorage.setItem('organizationId', result.data.logAsUser.organization.id);\r\n                    localStorage.setItem('supplierId', result.data.logAsUser.organization.supplier.id);\r\n                    if (result.data.logAsUser.user.role?.name === \"ROLE_USER\") {\r\n                        window.location.href = '/home';\r\n                    } else {\r\n                        window.location.href = '/homeAdmin';\r\n                    }\r\n                }\r\n            });\r\n    }\r\n\r\n    /**\r\n     * Récupération du contenu de page\r\n     * @returns {*}\r\n     */\r\n    function getFormContent() {\r\n        return <>\r\n            <TextField required variant=\"outlined\" type=\"email\" margin=\"normal\" fullWidth id=\"email\" label=\"Email\"\r\n                name=\"remail\" onChange={e => setEmail(e.target.value)} value={email} />\r\n            <TextField required type=\"password\" variant=\"outlined\" margin=\"normal\" fullWidth id=\"phone\"\r\n                label=\"Mot de passe\"\r\n                name=\"phone\" onChange={e => setMotDePasse(e.target.value)} value={motDePasse} />\r\n            <Box m={0.5}>\r\n                <Link href={\"/register\"}>Mot de passe oublié</Link>\r\n            </Box>\r\n\r\n            {signError ? <Alert severity=\"error\">{signError}</Alert> : <></>}\r\n\r\n            <Box mt={10}>\r\n                <Grid container spacing={10} className={classes.centerElements}>\r\n                    <Button type=\"submit\" variant=\"contained\" style={{ backgroundColor: colors.brown }}\r\n                        className={classes.btn}>\r\n                        {textNext}\r\n                    </Button>\r\n                    <Box style={{marginTop:'2'}}>\r\n                        <Link href={\"/register\"}>Pas de compte? S'inscrire</Link>\r\n                    </Box>\r\n                </Grid>\r\n            </Box>\r\n        </>\r\n    }\r\n\r\n    return (\r\n        <Grid container component=\"main\" className={classes.root}>\r\n            <CssBaseline />\r\n            <Grid item xs={false} sm={6} md={6} className={classes.image} />\r\n            <Grid item xs={12} sm={6} md={6}>\r\n                <div className={classes.paper}>\r\n                    <Grid>\r\n                        <img alt=\"Logo Mister Coocky\" width={200} height={250} src={logo} />\r\n                    </Grid>\r\n                    <form className={classes.form} onSubmit={handleSubmit}>\r\n                        {getFormContent()}\r\n\r\n                    </form>\r\n                </div>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n}\r\n\r\nexport default Connection\r\n"]},"metadata":{},"sourceType":"module"}